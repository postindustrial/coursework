{% extends "base.html" %}

{% block settings %}

<form action="" method="post">
    {% csrf_token %}
    <p class="text-center">
        <label for="id_group">Выберите номер группы:</label>
        <select id="id_group" name="group" style="width: 180px">
            {% for item in groups %}
                <option>{{ item.name }}</option>
            {% endfor %}
        </select>
        <button class="btn" type="submit">Показать</button>
    </p>
</form>

{% endblock %}

{% block content %}



    <style>
        table { table-layout: fixed; }
        table th, table td { overflow: hidden; }
    </style>

    {% for week_n in week_number %}
        {% if week_n == 1 %}
            <h4>Первая учебная неделя</h4> <br>
        {% else %}
            <h4>Вторая учебная неделя</h4> <br>
        {% endif %}
        {% for day_number, day_name in week_days %}
            <strong>{{ day_name }}</strong>
            <table class="table table-striped table-bordered" >
                {% for item in selected_schedule %}
                    {% if item.week == week_n and item.weekday == day_number %}
                        <tr>
                            <td style="width: 8%">
                                {{ item.get_begin_time_display }}
                            </td>
                            <td style="width: 42%">
                                {{ item.course.name.name }}
                            </td>
                            <td style="width: 37%">
                                {{ item.course.teacher.last_name }} {{ item.course.teacher.initials }}
                            </td>
                            <td style="width: 13%">
                                {{ item.room }} / {{ item.building.name }}
                            </td>
                        </tr>
                    {% endif %}
                {% empty %}
                    Занятий нет! <br>
                {% endfor %}
            </table>
        {% endfor %}
    {% endfor %}

{% endblock %}